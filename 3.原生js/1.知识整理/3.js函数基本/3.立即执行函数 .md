### 立即执行函数

```js
// 看过jQuery源码的人应该知道，jQuery开篇用的就是立即执行函数。立即执行函数常用于第三方库，好处在于隔离作用域，任何一个第三方库都会存在大量的变量和函数，为了避免变量污染（命名冲突），开发者们想到的解决办法就是使用立即执行函数。
```

```js
// 为什么要立即执行函数？
// 当我们调用函数之后，执行一次之后，不想要函数存在占用内存，就可以使用立即执行函数
// 立即执行函数针对初始化功能，即我们开始要拿到一些数据，但是这些数据需要通过调用函数才能得到，拿到数据之后就销毁函数。
```

```js
// 立即执行函数和函数的区别只在于立即执行函数只执行一次,其他没有任何区别；立即函数可以有形参，实参，执行期上下文（AO），
```

```js
// 立即执行函数的关键在于把函数变成一个表达式
```

### 写法1

这种写法是w3c建议的标准写法

```js
(function(){
    
}())
// 先写一对小括号，在括号里面写函数，紧接着函数后面写一对括号。
```

```js
(function test(){
    
}())
// 可以匿名，也可以写一个名字
```

####执行后函数找不到了：

```js
(function test(){
    var a = 10;
    var b = 10;
    console.log( a + b );
}())
// 控制台打印了20
// 再接着打印函数：
console.log(test);  // 报错 ，test is not defined
// 立即执行函数，不需要调用，自己执行完就销毁。
```

####传入形参和实参

```js
(function test(a,b,c){   //写形参
    console.log( a + b + c);
}(1,2,3)) // 后面小括号写实参
// 输出6；
```

####接收立即执行函数的结果

```js
var num = (function test(a,b,c){   //写形参
    return a + b + c
}(1,2,3));
console.log(num); // 输出6
// 用一个变量来接收立即执行函数的返回结果
```

### 写法2

```js
(function(){
    
})()
// 先用一对括号包住函数，再在括号后面写一对括号
```

### 多种写法

**只有表达式才能被执行符号执行**

```js
// 只有表达式才能被执行符号执行
```

举个栗子：

这样写：

```js
(function test(){
    var a = 10;
    var b = 10;
    console.log( a + b );
}())
// 控制台打印了20,这是立即执行函数的一种写法，没毛病
```

那么这样写：

```js
function test(){
    var a = 10;
    var b = 10;
    console.log( a + b );
}();  // 报错
// 我们尝试在函数后面直接加一对括号，函数能被执行吗？
// 报错，直接报低级语法错误，因为声明无法被执行，只有表达式才能被执行符号执行。
// 这种写法和上面的写法在于加了一对括号，为什么一对括号就能变为立即执行函数，因为（）把函数包起来，此时函数变为了一个表达式，而不再是一个声明了。
```

这样写：

```js
!function test(){
    var a = 10;
    var b = 10;
    console.log( a + b );
}();
// 也能变为一个立即执行函数，！运算符把函数声明变为了一个函数表达式
```

这样写：

```js
+ function test(){
    var a = 10;
    var b = 10;
    console.log( a + b );
}();
// 也能变为一个立即执行函数，+运算符把函数声明变为了一个函数表达式
```

这样写：

```js
-function test(){
    var a = 10;
    var b = 10;
    console.log( a + b );
}();
// 也能变为一个立即执行函数，-运算符把函数声明变为了一个函数表达式
```

这样写：

```js
var test = function(){
    var a = 10;
    var b = 10;
    console.log( a + b );
}();   // 20
// 这是函数表达式的写法，那么它就可以被执行符号执行，执行结果为20。
// 这种写法也是立即执行函数的一种写法
// 那么打印test
console.log(test); // test为undefined
```

总结：（）把函数变为一个表达式，再在函数外写一对括号表示立即执行函数。

除了（）,还有！，+ ，- 也能把函数变为一个表达式，以及函数表达式，再加一对括号立即执行函数。













